/**
 * JavaScript for the Government Reporting plugin report page.
 *
 * @module     local_govreporting/report_actions
 * @copyright  2025 YourName <your.email@example.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["jquery","core/ajax","core/str","core/notification"],(function(s,e,o,r){return{init:function(){s(".local-govreporting-report").on("click",".submit-student",(function(t){t.preventDefault();var n=s(this).data("userid"),i=s(this),c=i.closest(".student-record");o.get_string("confirm_submission","local_govreporting").done((function(o){confirm(o)&&function(o,t,n){t.addClass("processing"),s("#gov-report-success, #gov-report-error").hide(),e.call([{methodname:"local_govreporting_submit_student",args:{userid:o},done:function(e){t.removeClass("processing"),e.success?(s("#success-message").text(e.message),s("#gov-report-success").show(),n.addClass("success-submission"),setTimeout((function(){n.fadeOut(500,(function(){n.remove(),0===s(".student-record").length&&window.location.reload()}))}),1e3)):(s("#error-message").text(e.message),s("#gov-report-error").show(),n.addClass("error-submission"),setTimeout((function(){n.removeClass("error-submission")}),500))},fail:function(s){t.removeClass("processing"),r.exception(s),n.addClass("error-submission"),setTimeout((function(){n.removeClass("error-submission")}),500)}}])}(n,i,c)}))}))}}}));
//# sourceMappingURL=report_actions.min.js.map